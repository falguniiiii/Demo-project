/* =========================
   Design tokens
   ========================= */
:root{
  --bg:#000;
  --panel:#121212;
  --border:#1a1a1a;
  --white:#fff;
  --text:#111827;
  --muted:#6b7280;
  --accent:#0e0e0e;
  --danger:#e11d48;
  --right-width: 47%; /* fixed right panel width */
}

/* =========================
   Base
   ========================= */
* { box-sizing: border-box; }
button { font-family: inherit; }
button:disabled { opacity: .5; cursor: not-allowed; }

/* =========================
   Layout
   ========================= */
.meeting{
  display:flex;
  height:100vh;
  background:var(--bg);
  font-family:Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  overflow:hidden;
}
.meeting__left{
  flex:1;
  display:flex;
  flex-direction:column;
  position:relative;
}
.meeting__right{
  flex:0 0 var(--right-width);
  width:var(--right-width);
  max-width:var(--right-width);
  background:#fff;
  display:flex;
  flex-direction:column;
  border-left:1px solid #e5e7eb;
  position:relative;
  overflow:visible; /* allow portal overlays */
}

/* =========================
   Video grid (rounded container)
   ========================= */
.meeting__grid-pad{flex:1;padding:12px;position:relative}
.meeting__grid-wrap{
  height:100%;
  border-radius:24px;
  overflow:hidden;
  background:var(--bg);
  border:1px solid var(--border);
}
.meeting__grid{
  height:100%;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:4px;
  background:var(--bg);
}
.tile{
  position:relative;
  background:#1a1a1a;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}
.tile__video{
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
}
.tile__video video{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  background:#000;
}
.tile__avatar{
  width:80px;height:80px;border-radius:50%;
  background:#3a3a3a;color:#fff;
  display:flex;align-items:center;justify-content:center;
  font-weight:700;font-size:28px;
}
.tile__badge{
  position:absolute;bottom:8px;left:8px;
  width:26px;height:26px;border-radius:8px;
  background:rgba(0,0,0,.65);
  display:flex;align-items:center;justify-content:center;
}
.tile__name{
  position:absolute;bottom:8px;left:44px;
  color:#fff;font-size:14px;
  background:rgba(0,0,0,.6);
  padding:4px 10px;border-radius:6px;
}
.tile__close{
  position:absolute;top:8px;right:8px;
  width:24px;height:24px;border-radius:8px;
  border:none;background:rgba(0,0,0,.55);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;
}

/* =========================
   Floating controls
   ========================= */
.controls{
  position:absolute;left:50%;bottom:14px;transform:translateX(-50%);
  display:flex;align-items:center;gap:14px;
  background:var(--panel);
  padding:10px 14px;border-radius:36px;
  box-shadow:0 14px 40px rgba(0,0,0,.45);z-index:5;
}
.btn-round{
  width:56px;height:56px;border-radius:50%;
  background:#fff;border:1px solid #e5e7eb;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:transform .15s ease;
}
.btn-round:hover{ transform:translateY(-1px); }
.btn-round--off{
  background:#4a4a4a;border-color:#4a4a4a;color:#fff;
}
.btn-pill-danger{
  height:56px;padding:0 18px;border-radius:28px;
  background:var(--danger);color:#fff;border:none;
  display:flex;align-items:center;justify-content:center;
  gap:8px;cursor:pointer;font-weight:700;
}
.btn-pill-danger:hover{ background:#be123c; }

/* =========================
   Tabs + actions
   ========================= */
.tabs{
  padding:10px 12px;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#fff;
  position:sticky;
  top:0;
  z-index:6;
  border-bottom:1px solid #e5e7eb;
}
.tabs__count{
  position:absolute;left:12px;
  color:#6b7280;font-weight:600;font-size:13px;
}
.tabgroup{
  background:#0e0e0e;
  border-radius:999px;
  padding:6px;
  display:inline-flex;
  gap:6px;
}
.tab{
  padding:10px 18px;border:none;border-radius:999px;
  background:transparent;color:#fff;font-weight:700;font-size:16px;cursor:pointer;
}
.tab.active{ background:#fff;color:#0e0e0e; }

.tabs__actions{
  position:absolute;right:12px;
  display:flex;gap:8px;align-items:center;
}
.tabs__btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:8px 12px;border-radius:999px;
  background:#0e0e0e;color:#fff;border:none;
  cursor:pointer;font-weight:600;
}
.tabs__btn:hover{ filter:brightness(1.08); }

/* (legacy helper if used earlier) */
.tabs__upload{
  display:inline-flex;align-items:center;gap:8px;
  padding:8px 12px;border-radius:999px;background:#0e0e0e;
  color:#fff;border:none;cursor:pointer;font-weight:600;
}
.tabs__upload:hover{ filter:brightness(1.08); }

/* =========================
   Content wrapper
   ========================= */
.content{
  flex:1;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

/* =========================
   Chats
   ========================= */
.chats{flex:1;display:flex;flex-direction:column;position:relative;}
.chats__list{flex:1;padding:16px;overflow-y:auto;}
.msg{margin-bottom:16px;}
.msg__head{display:flex;align-items:center;gap:8px;margin-bottom:4px;}
.msg__user{font-weight:700;font-size:14px;color:#111827;}
.msg__time{font-size:12px;color:#9ca3af;}
.msg__bubble{background:#f3f4f6;padding:10px 12px;border-radius:10px;font-size:14px;color:#374151;}
.composer{
  padding:16px;border-top:1px solid #e5e7eb;
  display:flex;gap:8px;align-items:center;
  position:relative;z-index:7;
}
.emoji-btn{
  padding:8px;background:transparent;border:1px solid #e5e7eb;border-radius:8px;cursor:pointer;
}
.input{
  flex:1;padding:10px 12px;border:1px solid #e5e7eb;border-radius:8px;font-size:14px;outline:none;
}
.send-btn{
  padding:10px 16px;background:#0e0e0e;color:#fff;border:none;border-radius:8px;cursor:pointer;
}
.send-btn:hover{ background:#111; }

/* =========================
   Emoji picker (portal)
   ========================= */
.emoji-portal{
  position:fixed;
  right:24px;       /* near sidebar */
  bottom:120px;     /* above composer */
  z-index:10000;
  box-shadow:0 20px 50px rgba(0,0,0,.25);
  border-radius:12px;
  overflow:hidden;
  background:#fff;
}

/* =========================
   Captions overlay
   ========================= */
.captions{
  position:absolute;
  left:50%;transform:translateX(-50%);
  bottom:92px;            /* above control bar */
  max-width:66%;
  max-height:30vh;
  overflow-y:auto;
  background:rgba(0,0,0,.75);
  color:#fff;
  padding:10px 12px;
  border-radius:10px;
  box-shadow:0 8px 24px rgba(0,0,0,.35);
  font-size:14px;line-height:1.45;
}
.captions__line{ margin:4px 0; }

/* =========================
   Polls
   ========================= */
.polls{flex:1;display:flex;flex-direction:column;overflow-y:auto;padding:20px;}
.polls__creator{margin-bottom:16px;}
.creator__toggle{
  display:inline-flex;align-items:center;gap:8px;
  padding:8px 12px;border-radius:8px;background:#0e0e0e;color:#fff;border:none;cursor:pointer;font-weight:600;
}
.creator__form{margin-top:12px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:10px;padding:12px;}
.creator__label{display:block;font-size:12px;color:#6b7280;margin:6px 0;}
.creator__input,.creator__textarea{width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:8px;}
.creator__actions{margin-top:10px;display:flex;gap:8px;}
.creator__create{padding:8px 12px;border-radius:8px;background:#111827;color:#fff;border:none;cursor:pointer;font-weight:600;}

.polls__list{display:flex;flex-direction:column;gap:14px;}
.poll-card{background:#fff;border:1px solid #e5e7eb;border-radius:10px;padding:14px;}
.poll-card__head{display:flex;justify-content:space-between;align-items:center;gap:8px;}
.poll-card__q{margin:0;font-size:16px;font-weight:800;color:#111;}
.poll-card__meta{display:flex;align-items:center;gap:10px;}
.poll-badge{padding:4px 8px;border-radius:999px;font-size:12px;text-transform:uppercase;letter-spacing:.02em;}
.poll-badge.open{background:#dcfce7;color:#065f46;}
.poll-badge.closed{background:#fee2e2;color:#991b1b;}
.poll-total{font-size:12px;color:#6b7280;}
.poll-close{padding:6px 10px;border-radius:8px;background:#0e0e0e;color:#fff;border:none;cursor:pointer;}

.poll-options{display:flex;flex-direction:column;gap:8px;margin-top:12px;}
.poll-option{
  width:100%;padding:10px 12px;background:#fff;border:1px solid #e5e7eb;border-radius:8px;
  cursor:pointer;text-align:left;font-size:14px;
}
.poll-option:hover{background:#f9fafb;border-color:#0e0e0e;}

.poll-results{display:flex;flex-direction:column;gap:10px;margin-top:12px;}
.result-row{}
.result-top{display:flex;justify-content:space-between;margin-bottom:6px;}
.result-label,.result-pct{font-size:14px;color:#111;}
.progress{width:100%;height:10px;background:#eee;border-radius:999px;overflow:hidden;}
.progress__value{height:10px;background:#0e0e0e;border-radius:999px;}
.result-votes{font-size:12px;color:#6b7280;margin-top:4px;}

/* =========================
   Documents
   ========================= */
.docs{display:flex;flex-direction:column;height:100%;}
.docs__bar{
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 16px;border-bottom:1px solid #e5e7eb;
}
.docs__title{margin:0;font-size:18px;font-weight:800;color:#111;}
.docs__actions{display:flex;gap:8px;}
.docs__btn{padding:8px 12px;border-radius:8px;text-decoration:none;color:#fff;font-weight:600;}
.docs__btn--open{background:#0e0e0e;}
.docs__btn--download{background:#111827;}

.docs__list{
  display:flex;gap:8px;padding:10px 12px;overflow-x:auto;border-bottom:1px solid #e5e7eb;
}
.doc-pill{
  display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:8px;
  border:1px solid #e5e7eb;background:#fff;cursor:pointer;white-space:nowrap;
}
.doc-pill.active{background:#f3f4f6;border-color:#0e0e0e;}
.doc-pill__name{font-size:13px;max-width:240px;overflow:hidden;text-overflow:ellipsis;}

.docs__viewer{flex:1;overflow:hidden;position:relative;}
.docs__img{max-width:100%;height:auto;border-radius:8px;}
.docs__iframe{width:100%;height:80vh;border:1px solid #e5e7eb;border-radius:8px;}
.docs__unsupported{color:#6b7280;font-size:14px;}
.docs__empty{color:#6b7280;font-size:14px;}

/* =========================
   Responsive
   ========================= */
@media (max-width:1100px){
  .meeting__right{flex:0 0 50%;width:50%;max-width:50%;}
}
@media (max-width:840px){
  .meeting{flex-direction:column;}
  .meeting__left{height:48vh;}
  .meeting__right{height:52vh;width:100%;max-width:100%;}
  .meeting__grid{grid-template-columns:1fr 1fr;}
}